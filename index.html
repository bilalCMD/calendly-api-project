<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Calendly OAuth Token Call</title>
</head>
<body>
  <h2>Calendly OAuth Token Demo</h2>
  <button onclick="getToken()">Get Token</button>

  <script>
    // fzS9aD_i_ynDv1xcd_B7b5fiCoRmgzQjoQ3L8zPHgTw
    async function getToken() {
      const clientId = "JpP13iljPR_A4e8oAGRqCdokjuSadfO1RmTYk3oVncM";
      const clientSecret = "xyV4miPzwyTIFwH5kc-WtD58wOw5dwnx7eVhjtThEl4";
      const authCode = "YOUR_AUTH_CODE";
      const redirectUri = "https://www.rebelhealthalliance.io/";

      const credentials = btoa(`${clientId}:${clientSecret}`);

      const formData = new URLSearchParams();
      formData.append('grant_type', 'authorization_code');
      formData.append('code', authCode);
      formData.append('redirect_uri', redirectUri);

      try {
        const response = await fetch('https://auth.calendly.com/oauth/token', {
          method: 'POST',
          headers: {
            'Authorization': `Basic ${credentials}`,
            'Content-Type': 'application/x-www-form-urlencoded'
          },
          body: formData
        });

        const data = await response.json();
        console.log("Access Token Response:", data);
        alert("Check console for token!");
      } catch (error) {
        console.error("Error getting token:", error);
        alert("Error occurred! Check console.");
      }
    }
  </script>
</body>
</html>
